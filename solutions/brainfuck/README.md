[Brainfuck rulez](https://mayablog.blog.hu/2010/05/21/brainfuck_rulez)
----------------------------------------------------------------------

At last, here's the solution to the [9 digit problem of Encse](http://csokavar.hu/blog/2010/04/problem-of-the-week-9-digit-problem/) in Brainfuck.

The raw program
===============

```
>---->>-->--->>>>>>>>+++[>+++<-]>>----<--[++[<+<+>>-]<<[->>+<<]>---]++<+<<<<[>++
++[----[>>>>>>>>>>>>>+>+<<<<<<<<<<<<<<-]>>>>>>>>>>>>>>[-<<<<<<<<<<<<<<+>>>>>>>>>
>>>>>]<<<<<<<<<<<<<++++]---->>>>>>>>>>>>>----<<<<<<<<<<<<++++[--->+++]--->++++[-
---<<+++[---<+++]---[-]>[-<+>]--->+++[--->+++]--->[->++++[---->++++]---->++++[--
-<+++]--->]>++++[----[-<+>]>++++]----++[--<++]--[-]>[-<+>]--<[->++++[---->++++]-
--->>+++[--<++]--<]++++[---->++++]---->[-++[--<++]--<+++++[---->++++]---->]<<<++
[--[->+<]<++]--+++[--->+++]--->[<<++[-->[-]<[->+<]---<++]-->>++++[---->++++]----
>>[-+++[---<+++]--->+++++[---->++++]---->>]]++[--<++]-->[-]---++++[---->++++]---
->[-]>[-]<+<++++]---->[[-]<<<<<<<<<<<<<[->>>>>>>>>>>>>+>+<<<<<<<<<<<<<<]>>>>>>>>
>>>>>>[-<<<<<<<<<<<<<<+>>>>>>>>>>>>>>]<<<<<<<<<<<<<++[--[>>>>>>>>>>>>>>>>>>>+>+<
<<<<<<<<<<<<<<<<<<<-]>>>>>>>>>>>>>>>>>>>>[-<<<<<<<<<<<<<<<<<<<<+>>>>>>>>>>>>>>>>
>>>>]<<<<<<<<<<<<<<<<<<<++]-->>>>>>>>>>>>>>>>>>>----[++++[----<++++]----<++++[--
--<++++]---->>>>>>>>>>>>>>>>>>>>[-]<<<<<<<<<<<<<<<<<<<<>>>>>>>>[++++[----[++++[-
---<++++]---->>[-]<<>>>>>>[-]<<<<<<>[>+>+<<-]>>[-<<+>>]<>>>>>>[<+<+>>-]<<[->>+<<
]>[<<+<+>>>-]<<<[->>>+<<<]>++++[----<++++]---->>>>>[>-<[-]]>+[-<+>]<<<<[>+>+<<-]
>>[-<<+>>]<++++[----<++++]---->>>[>-<[-]]>+[-<+>]<[->>+<<]++++[----<++++]---->>>
>>[>-<[-]]>+[-<+>]<[[-]>>-<<<<<->>>>>[<<+<+>>>-]<<<[->>>+<<<]>++++[----<++++]---
->>>>>[>-<[-]]>+[-<+>]<<<<[>+>+<<-]>>[-<<+>>]<++++[----<++++]---->>>[>-<[-]]>+[-
<+>]<[->>+<<]++++[----<++++]---->>>>>[>-<[-]]>+[-<+>]<]++++[----<++++]---->>>>>>
>[<+<+>>-]<<[->>+<<]><<<<[>-<[-]]>+[-<+>]<[[-]>>>>+<<<<]>>>>[[-]>>[-]<[->+<]++++
[----<++++]---->>>>>>>>>>>>>>>>>>>>+<<<<<<<<<<<<<<<<<<<<++++[----<++++]---->>[-]
<<>>>>>>[-]<<<<<<>[>+>+<<-]>>[-<<+>>]<>>>>>>[<+<+>>-]<<[->>+<<]>[<<+<+>>>-]<<<[-
>>>+<<<]>++++[----<++++]---->>>>>[>-<[-]]>+[-<+>]<<<<[>+>+<<-]>>[-<<+>>]<++++[--
--<++++]---->>>[>-<[-]]>+[-<+>]<[->>+<<]++++[----<++++]---->>>>>[>-<[-]]>+[-<+>]
<[[-]>>-<<<<<->>>>>[<<+<+>>>-]<<<[->>>+<<<]>++++[----<++++]---->>>>>[>-<[-]]>+[-
<+>]<<<<[>+>+<<-]>>[-<<+>>]<++++[----<++++]---->>>[>-<[-]]>+[-<+>]<[->>+<<]++++[
----<++++]---->>>>>[>-<[-]]>+[-<+>]<]++++[----<++++]---->>>>>>>[<+<+>>-]<<[->>+<
<]><<<<[>-<[-]]>+[-<+>]<[[-]>>>>+<<<<]>>>>]++++[----<++++]---->>>>>>>]++++[---->
++++]----++++]----<++++[----<++++]---->>>>]++++[----<++++]---->>>>>>>>>[++++[---
-[++++[----<++++]---->>[-]<<>>>>>>[-]<<<<<<>[>+>+<<-]>>[-<<+>>]<>>>>>>>[<<+<+>>>
-]<<<[->>>+<<<]>[<<+<+>>>-]<<<[->>>+<<<]>++++[----<++++]---->>>>>[>-<[-]]>+[-<+>
]<<<<[>+>+<<-]>>[-<<+>>]<++++[----<++++]---->>>[>-<[-]]>+[-<+>]<[->>+<<]++++[---
-<++++]---->>>>>[>-<[-]]>+[-<+>]<[[-]>>-<<<<<->>>>>[<<+<+>>>-]<<<[->>>+<<<]>++++
[----<++++]---->>>>>[>-<[-]]>+[-<+>]<<<<[>+>+<<-]>>[-<<+>>]<++++[----<++++]---->
>>[>-<[-]]>+[-<+>]<[->>+<<]++++[----<++++]---->>>>>[>-<[-]]>+[-<+>]<]++++[----<+
+++]---->>>>>>>[<+<+>>-]<<[->>+<<]><<<<[>-<[-]]>+[-<+>]<[[-]>>>>+<<<<]>>>>[[-]>>
>[-]<<[->>+<<]++++[----<++++]---->>>>>>>>>>>>>>>>>>>>+<<<<<<<<<<<<<<<<<<<<++++[-
---<++++]---->>[-]<<>>>>>>[-]<<<<<<>[>+>+<<-]>>[-<<+>>]<>>>>>>>[<<+<+>>>-]<<<[->
>>+<<<]>[<<+<+>>>-]<<<[->>>+<<<]>++++[----<++++]---->>>>>[>-<[-]]>+[-<+>]<<<<[>+
>+<<-]>>[-<<+>>]<++++[----<++++]---->>>[>-<[-]]>+[-<+>]<[->>+<<]++++[----<++++]-
--->>>>>[>-<[-]]>+[-<+>]<[[-]>>-<<<<<->>>>>[<<+<+>>>-]<<<[->>>+<<<]>++++[----<++
++]---->>>>>[>-<[-]]>+[-<+>]<<<<[>+>+<<-]>>[-<<+>>]<++++[----<++++]---->>>[>-<[-
]]>+[-<+>]<[->>+<<]++++[----<++++]---->>>>>[>-<[-]]>+[-<+>]<]++++[----<++++]----
>>>>>>>[<+<+>>-]<<[->>+<<]><<<<[>-<[-]]>+[-<+>]<[[-]>>>>+<<<<]>>>>]++++[----<+++
+]---->>>>>>>]++++[---->++++]----++++]----<++++[----<++++]---->>>>]++++[----<+++
+]---->>>>>>>>>++++[----<[-++++[----<++++]---->>>>>>>>>>>>>>>>>>>>+<<<<<<<<<<<<<
<<<<<<<>[>+>+<<-]>>[-<<+>>]<>+++[>+++<-]>+<<[->>-<<]>>[->>>>>+<<<<<]]++++[---->+
+++]----++++]----<++++[----<++++]---->>>>>>>>[<<+<+>>>-]<<<[->>>+<<<]>[>-<[-]]>+
[-<+>]<[[[-]>>>++++[----[-<+>]>++++]----[-]<---->]<<++++[----<++++]---->>>>>>>>[
<<+<+>>>-]<<<[->>>+<<<]>[>-<[-]]>+[-<+>]<]++++[----<++++]---->>>>>>>>>>>>>>>>>>>
>[[-]<<<<<<<<<<<[>>>>>>>>>>>+>]]++++[----<++++]----<++++[----<++++]---->>>>>>>>>
>>>>>>>>>>>]<<<<<<<<<<<<<<<<<<<<>[-]>>>>>>>>[-]<++++[>-<[-]]>+[-<+>]<[-<<<<<<<+>
]++++[----<++++]---->[[-]<<<<<<<<<<<<<[>>>>>>>>>>>>>+>+<<<<<<<<<<<<<<-]>>>>>>>>>
>>>>>[-<<<<<<<<<<<<<<+>>>>>>>>>>>>>>]<---------[>-<[-]]>+[-<+>]<[[-]<<<<<<<<<<<<
++[--++++++++++++++++++++++++++++++++++++++++++++++++.--------------------------
---------------------->++]--++++[---->++++]---->++++++++++.[-]<->]---->]---->]++
++[----<++++]----<++++[----<++++]----<++++[----<++++]---->[[-]>]++++[----<++++]-
---><<<<<<<<<<<<<<]
```

Easy, huh?

Brainfuck Workbench
===================

I don't think I could have implemented all this without developing a liltle IDE for Brainfuck called Brainfuck Workbench (BfWB) using [Intentional](http://intentsoft.com)'s glorious Domain Workbench.

To make it more manageable, I added a few features to the core Bf language:

*   Blocks, which can group statements and can be repeated.
*   Blocks as well as primitive statements can be repeated for a given number.
*   Macros can be defined which are then expanded at compile time by the generator. Macros can have named parameters which can be passed further to other macros or used as a repeat clause in the body of the macro.
*   Symbol (aka named constants) can be defined and then used as repeat clauses and macro parameters throughout the whole program.
*   You can also add comments and regions at most of the places in the code.

Just to get a feel for it, here's the main program as defined in the workbench:

![](9digitbf1(1).png)

The two main bit here are the macro extend and fDiv. Extend generates the next number in the recursion and puts it onto a stack-like structure. fDiv checks if the current number is divisible by the current level number. If the divisibility is satisfied and we are not at the last level, it extends further. Otherwise if we are at the last level then we print the number and backtrack. If the number is not divisible or even extend was not successful (because we have run out of free candidate digits) then we backtrack.

![](9digitbf2(1).png)

Division is tricky as you have probably guessed, but I'll reveal no clues here... It's definitely NOT using [unary arithmetics](http://gergo.erdi.hu/blog/2010-04-19-unary_arithmetics_is_even_slower_than_you'd_expect/).Â :P The whole thing finishes in 2 seconds in [Brainfuck Developer](http://4mhz.de/bfdev.html).

Alternatively you can use any of the many [online Brainfuck interpreters](http://www.google.hu/search?sourceid=chrome&ie=UTF-8&q=online+brainfuck+interpreter). I tried the one at [ircbot.hu](http://www.ircbot.hu/bf/bi.html).

## "Real" hardware

Here is a [blog post](https://gergo.erdi.hu/blog/2013-01-19-a_brainfuck_cpu_in_fpga/) describing how this can be run on an FPGA.

You can watch it on youtube: https://www.youtube.com/watch?v=m7opICuinKE

